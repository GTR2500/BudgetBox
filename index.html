<!doctype html>
<html lang="it">
<head>
  <meta charset="utf-8">
  <title>BudgetBox â€” Preventivi Grimaldelli</title>
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <link rel="preconnect" href="." />
  <link rel="stylesheet" href="assets/css/app.css">
</head>
<body>
  <!-- HEADER -->
  <header class="bb-header">
    <div class="bb-container bb-header__inner">
      <div class="bb-brand">
        <!-- Logo aziendale: URL primario + fallback multipli -->
        <img id="company-logo"
             class="bb-logo-img"
             alt="Grimaldelli"
             src="https://www.glcgrimaldelli.com/wp-content/uploads/2019/06/Logo-Sottopagine.jpg"
             data-fallback="assets/img/grimaldelli-logo.jpg,assets/img/logo.png,public/img/grimaldelli-logo.jpg,public/img/logo.png,./public/img/grimaldelli-logo.jpg,/public/img/grimaldelli-logo.jpg" />
        <div class="bb-brand__text">
          <h1 class="bb-appname">BudgetBox</h1>
        </div>
      </div>

      <div class="bb-header__right">
        <span class="bb-rev" id="bb-rev">Rev â€”</span>
        <button id="btn-print" class="bb-btn">Stampa / PDF</button>
        <button id="btn-settings" class="bb-btn bb-btn--ghost">Impostazioni</button>
        <button id="btn-theme" class="bb-btn bb-btn--ghost" title="Tema">ðŸŒ™</button>
      </div>
    </div>
  </header>

  <main class="bb-container bb-main">
    <!-- ANAGRAFICA -->
    <section class="bb-card">
      <div class="bb-card__title">
        <h2>Anagrafica</h2>
      </div>

      <!-- Pill meteo (2 righe) -->
      <div class="bb-meteo-row">
        <span class="bb-meteo-label">Dati meteo:</span>
        <span class="bb-pill">
          <span id="meteo-pill-line1">â€”</span>
          <span id="meteo-pill-line2" class="bb-pill-sub">â€”</span>
        </span>
      </div>

      <div class="bb-grid bb-grid-4">
        <label class="bb-field">
          <span>Cliente</span>
          <input id="fld-cliente" type="text" placeholder="Ragione sociale">
        </label>

        <label class="bb-field">
          <span>LocalitÃ </span>
          <select id="fld-localita">
            <option value="">Caricamento localitÃ â€¦</option>
          </select>
        </label>

        <label class="bb-field">
          <span>Riferimento</span>
          <input id="fld-rif" type="text" placeholder="Es. Rif. interno">
        </label>

        <label class="bb-field">
          <span>Data</span>
          <input id="fld-data" type="date">
        </label>
      </div>
    </section>

    <!-- STRUTTURA -->
    <section class="bb-card">
      <div class="bb-card__title">
        <h2>Struttura</h2>
      </div>

      <div class="bb-grid bb-grid-5 bb-grid-gap">
        <label class="bb-field">
          <span>Prezzo struttura (â‚¬/mÂ²)</span>
          <input id="fld-prezzo" type="number" inputmode="decimal" step="0.01" min="0" placeholder="â‚¬/mÂ²">
        </label>

        <label class="bb-field">
          <span>KG acciaio (kg/mÂ²)</span>
          <input id="fld-kgmq" type="number" inputmode="decimal" step="0.01" min="0" placeholder="kg/mÂ²">
        </label>

        <label class="bb-field">
          <span>Tipo di struttura</span>
          <input id="fld-tipo" type="text" placeholder="Es. capannone zincato">
        </label>

        <label class="bb-field">
          <span>Forma copertura</span>
          <select id="fld-forma">
            <option value="">Seleziona forma coperturaâ€¦</option>
          </select>
        </label>

        <label class="bb-field">
          <span>Passo campate (m)</span>
          <input id="fld-passo" type="number" inputmode="decimal" step="0.01" min="0" placeholder="m">
        </label>

        <label class="bb-field">
          <span>Lunghezza (m)</span>
          <input id="fld-lung" type="number" inputmode="decimal" step="0.01" min="0" placeholder="m">
        </label>

        <label class="bb-field">
          <span>Larghezza (m)</span>
          <input id="fld-larg" type="number" inputmode="decimal" step="0.01" min="0" placeholder="m">
        </label>

        <label class="bb-field">
          <span>Altezza trave â€” passaggio minimo (m)</span>
          <input id="fld-htrave" type="number" inputmode="decimal" step="0.01" min="0" placeholder="m">
        </label>

        <label class="bb-field">
          <span>Altezza di colmo (m)</span>
          <input id="fld-hcolmo" type="text" disabled placeholder="calcolata">
        </label>

        <label class="bb-field">
          <span>Sforo testata (m)</span>
          <input id="fld-sforo-testata" type="text" placeholder="per lato (ammesso a+b)">
        </label>

        <label class="bb-field">
          <span>Sforo gronda (m)</span>
          <input id="fld-sforo-gronda" type="text" placeholder="per lato (ammesso a+b)">
        </label>

        <label class="bb-field">
          <span>Quota di decubito (%)</span>
          <input id="fld-quota" type="number" inputmode="decimal" step="0.1" min="0" max="100" placeholder="%">
        </label>

        <label class="bb-field bb-field--note" style="grid-column:1 / -1">
          <span>Note</span>
          <input id="fld-note" type="text" placeholder="Note tecniche o descrittive">
        </label>
      </div>

      <!-- KPI CALCOLI -->
      <div class="bb-kpis bb-kpis--full">
        <div class="bb-kpi">
          <div class="bb-kpi__label">Area lorda</div>
          <div class="bb-kpi__value" id="kpi-area-lorda">0.00 mÂ²</div>
        </div>
        <div class="bb-kpi">
          <div class="bb-kpi__label">Copertura in pianta</div>
          <div class="bb-kpi__value" id="kpi-cop-pianta">0.00 mÂ²</div>
        </div>
        <div class="bb-kpi">
          <div class="bb-kpi__label">Copertura in falda</div>
          <div class="bb-kpi__value" id="kpi-cop-falda">0.00 mÂ²</div>
        </div>
        <div class="bb-kpi">
          <div class="bb-kpi__label">Area normativa richiesta</div>
          <div class="bb-kpi__value" id="kpi-area-normativa">0.00 mÂ²</div>
        </div>
        <div class="bb-kpi">
          <div class="bb-kpi__label">Costo base</div>
          <div class="bb-kpi__value" id="kpi-costo-base">0,00 â‚¬</div>
        </div>
        <div class="bb-kpi">
          <div class="bb-kpi__label">Costo acciaio <small id="hint-eurokg" class="bb-hint-inline"></small></div>
          <div class="bb-kpi__value" id="kpi-costo-acciaio">0,00 â‚¬</div>
        </div>
        <div class="bb-kpi">
          <div class="bb-kpi__label">Neve & vento <small id="hint-meteo" class="bb-hint-inline"></small></div>
          <div class="bb-kpi__value" id="kpi-costo-meteo">0,00 â‚¬</div>
        </div>
        <div class="bb-kpi">
          <div class="bb-kpi__label">Totale struttura</div>
          <div class="bb-kpi__value" id="kpi-totale">0,00 â‚¬</div>
        </div>
      </div>
    </section>

    <!-- POPOLAZIONI & STABULAZIONI (invariata) -->
    <section class="bb-card">
      <div class="bb-card__title">
        <h2>Popolazioni & stabulazioni</h2>
      </div>
      <!-- â€¦lasciata comâ€™era, per brevitÃ  non ripetuta quiâ€¦ -->
      <div class="bb-hint">Questa sezione rimane invariata in questo step.</div>
    </section>
  </main>

  <footer class="bb-footer bb-container">
    <small>Â© BudgetBox per Grimaldelli s.r.l. â€” Manuel Zago</small>
  </footer>

  <script src="assets/js/core.js"></script>
</body>
</html>
